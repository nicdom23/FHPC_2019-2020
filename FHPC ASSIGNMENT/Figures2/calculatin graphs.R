
T_comp<-2*10^-9
T_read<-1*10^-4
T_comm <-1*10^-6 

p<-1:1000
N<-10^2



T_s = N*T_comp

T_p = T_read+(p-1+N/p)*T_comp+2*T_comm*(p-1)

speedup = T_s/T_p


plot(p,speedup,type = "l")

library(dplyr)
x<-data.frame(p,speedup)
max<- filter(x,x$speedup==max(x$speedup))


p = c(1,2,4,5,8,10,16,20,32);
time = c(0.19828200,
         0.10205293,
         0.05147886, 
         0.04226208,
         0.02889167,
         0.0227909 ,
         0.01546288, 
         0.01202011  ,
         0.00758505);

plot(p,time,type = "l")
lines(p,t)
t = c(0.190000,0.190000,0.190000,0.190000,0.190000,0.190000,0.190000,0.190000,0.190000)
t_serial = 0.190000
speedup= t_serial/time;
plot(p,speedup,type = "l")


p = c(1,2,3,4,5,10,15,20,30,40,50,70,90,100,120,140,150,180,200);
time = c(0.19828200,
         0.10205293,
         0.10225821, 
         
         0.05108809,
         0.04208803,
         
         0.02342105 ,
         0.01611710,
         
         0.01290107  ,
         0.04661584,
         
         0.00778699,
         0.04185486,
         
         0.04279184,
         0.04550791,
         
         0.04253793,
         0.04723096,
         
         0.04769993,
         0.04286814,
         
         0.08806396,
         0.08535910);

plot(p,time,type = "l")
lines(p,t)
t_serial = 0.190000
speedup= t_serial/time;
plot(p,speedup,type = "l")